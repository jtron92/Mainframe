In the execise IBM provided AA01860 PTF (sysmod)

Guidelines:
DETERMINE CSI NAME:
Start by determining what product CSI you need to view. Your (hypothetical) problems are with z/OS, where the SMP HLQ is MVS .
DETERMINE LATEST SYSMOD:
1.
2.
1.
2.
IBM Z Xplore Copyright IBM 2021-2024
SMPE2|240902-1926
[16/21]
To find if SMP thinks the SYSMOD is applied and if it is the latest SYSMOD, you will use multiple queries in the SMP panels.
Start with the SYSMOD number given by IBM Defect Support and use the information within to find the MOD, then LMOD, then
the DDDEF.

HINT: Start by looking for potential SUPBY to see if there is a more recent SYSMOD than the one given by IBM Defect
Support
SUPBY example
NOTE: Once you find the most recent SYSMOD, IBM Defect Support tells you to look for the ANFNCONN MOD
NOTE: Look to see if the FMID matches the RMID (Replacement Modification Identifier), that will tell you which SYSMOD to
look at next
If FMID = RMID, then the MOD is the original installation MOD
If FMID != RMID, then the MOD has been changed since the original installation
◦
▪
▪
▪
▪
▪

DETERMINE IF APPLIED:
Once you find the SYSMOD RMID, verify this by checking the system catalog.
Find the data set and confirm that the SYSMOD you found in step 2 is the last SYSMOD to change ANFNCONN (the MOD)
You determine the data set name (DSNAME) by using MOD –> LMOD, and listing the associated DDDEF
Note that Distribution libraries are not always cataloged - so take note of the VOLUME on which data set is list in the
DDDEF
The data set will contain a bunch of different information, look for the SYSMOD you found in step 2 within there. You can use
the SRCHFOR command, or browse the specific LMOD module in the dataset to confirm the SYSMOD information.
3.



the issue is on MVS so the dsn is MVS.GLOBAL.CSI

so go to SM 


---------------------- SMP/E PRIMARY OPTION MENU ---------------- SMP/E 37
===> 3                                                                    
                                                                   More:  
                                                                          
    0  SETTINGS           - Configure settings for the SMP/E dialogs      
    1  ADMINISTRATION     - Administer the SMPCSI contents                
    2  SYSMOD MANAGEMENT  - Receive SYSMODs and HOLDDATA                  
                            and install SYSMODs                           
    3  QUERY              - Display SMPCSI information                    
    4  COMMAND GENERATION - Generate SMP/E commands                       
    5  RECEIVE            - Receive SYSMODs, HOLDDATA and                 
                            support information                           
    6  ORDER MANAGEMENT   - Manage ORDER entries in the global zone       
                                                                          
    D  DESCRIBE           - An overview of the dialogs                    
    T  TUTORIAL           - Details on using the dialogs                  
    W  WHAT IS NEW        - What is New in SMP/E                          
                                                                          
Specify the name of the CSI that contains the global zone:                
   SMPCSI DATA SET   ===> 'MVS.GLOBAL.CSI'                                
(Leave blank for a list of SMPCSI data set names.)                        

add the dsn and option 3 on the top



                             QUERY SELECTION MENU                   
 ===> 1                                                             
                                                                    
     1  CSI QUERY           - Display SMPCSI entries                
     2  CROSS-ZONE QUERY    - Display status of an entry in         
                              all zones                             
     3  SOURCEID QUERY      - Display SOURCEIDs for specified zone  
                                                                    
     D  DESCRIBE            - Overview of using QUERY               
                                                                    
     T  TUTORIAL            - Information on using QUERY            
                                                                    
 To return to the SMP/E primary option menu, enter  END .           
                                                                    
                                                                    

option 1




                                  CSI QUERY                   
===>                                                          
                                                              
Specify the zone, entry type, and name to be queried:         
                                                              
   ZONE NAME   ===>          Name of the zone to be queried.  
                             To display a list of all zones,  
                             leave blank                      
                                                              
   ENTRY TYPE  ===>          Entry type to be queried.        
                             To display a list of all valid   
                             entry types, leave ENTRY TYPE    
                             and ENTRY NAME blank             
                                                              
   ENTRY NAME  ===> AA01860  Entry name to be queried.        
                             Leave blank or use a wildcard    
                             (entry name pattern) to display  
                             a selection list.                
                                                              
To return to the Query selection menu, enter END .            

add the sysmod name 


===>                                                    
                                                        
Select the zone that you want to query:                 
                                                        
S    NAME     TYPE      CSI DATA SET                    
     CSQ920D  DLIB      CSQ920.CSQ920D.CSI              
     CSQ920T  TARGET    CSQ920.CSQ920T.CSI              
     GLOBAL   GLOBAL    MVS.GLOBAL.CSI                  
     MVSD     DLIB      MVS.MVSD.CSI                    
s    MVST     TARGET    MVS.MVST.CSI                    
******************************* Bottom of data *********
                                                        
                                                        
select the target MVS.MVST.CSI   


 ===>                                                          SCROLL 
                                                                      
 Select one type to query from TARGET zone MVST    :                  
                                                                      
 S    TYPE      ACTION                                                
 s    SYSMOD                                                          
 ******************************* Bottom of data **********************

type s 






                                                                               
                           CSI QUERY - SYSMOD ENTRY            Row 1 to 1 of 1 
===>                                                          SCROLL ===> PAGE 
                                                                               
 To return to the previous panel, enter END .                                  
                                                                               
                                                                               
 Primary Command: FIND                                                         
                                                                               
 Entry Type:  SYSMOD                              Zone Name: MVST              
 Entry Name:  AA01860                             Zone Type: TARGET            
 Description:                                                                  
                                                                               
   Type:                          Status:                                      
   FMID:                          SUPBY   UA01001                              
   Date/Time:                                                                  
                                                                               
                                                                               
                                                                               
         -------- -------- -------- -------- -------- -------- --------        
                                                                               
******************************* Bottom of data ********************************




here you can see the zone name : MVST

Zone Type : TARGET

Entry Type : SYSMOD

and the entry name : AA01860

this show it has a sysmod that has superceding the current PTF that we are looking at right now so to look at the latest update which is 
UA010001


so we need to copy this sysmod   UA010001

Now we have the sysmod the next directions are to look at ANFNCONN

so go back and add ANFNCONN to the entry name

===>                                                            
                                                                
Specify the zone, entry type, and name to be queried:           
                                                                
   ZONE NAME   ===>          Name of the zone to be queried.    
                             To display a list of all zones,    
                             leave blank                        
                                                                
   ENTRY TYPE  ===>          Entry type to be queried.          
                             To display a list of all valid     
                             entry types, leave ENTRY TYPE      
                             and ENTRY NAME blank               
                                                                
   ENTRY NAME  ===> ANFNCONN Entry name to be queried.          
                             Leave blank or use a wildcard      
                             (entry name pattern) to display    
                             a selection list.                  
                                                                
To return to the Query selection menu, enter END .              


                           CSI QUERY - MOD ENTRY               Row 1 to 1 o
===>                                                          SCROLL ===> P
                                                                           
 To return to the previous panel, enter END .                              
                                                                           
 Primary Command: FIND                                                     
                                                                           
 Entry Type:  MOD                                 Zone Name: MVST          
 Entry Name:  ANFNCONN                            Zone Type: TARGET        
                                                                           
   FMID:    HMOS705                     LASTUPD: HMOS705  TYPE=ADD         
   RMID:    UA01001     DISTLIB: AAOPMOD1                                  
                                                                           
 Link-edit Parameters:                                                     
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           
         -------- -------- -------- -------- -------- -------- --------    
LMOD     ANFFFSA                                                           


so here 

you have the 
zone name : MVST
SYSMOD : UA01001
LMOD   : ANFFSA
MOD    : ANFNCONN
DDEF   : AAOPMOD1     


Now go to the jcl provided 

000001 //SMPLIST  JOB 1,NOTIFY=&SYSUID                                 
000002 //DEL      EXEC PGM=IDCAMS                                      
000003 //SYSPRINT DD SYSOUT=*                                          
000004 //SYSIN    DD *,SYMBOLS=CNVTSYS                                 
000005   DELETE &SYSUID..SMPLIST                                       
000006   SET MAXCC=0                                                   
000007 //LIST     EXEC SMPPROC                                         
000008 //SMP.SMPLIST DD DSN=&SYSUID..SMPLIST,DISP=(,CATLG),            
000009 // SPACE=(CYL,(1,1)),UNIT=SYSDA                                 
000010 //SMPCNTL  DD  *                                                
000011   SET    BDY(MVST).                                             
000012   LIST   SYSMOD(UA01001).                                       
000013   LIST   LMOD(ANFFFSA).                                         
000014   LIST   MOD(ANFNCONN).                                         
000015   LIST   DDDEF(AAOPMOD1).                                       
000016 /*                                                              

submit this

and thats it








